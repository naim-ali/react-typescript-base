{"remainingRequest":"/Users/technologyteam/Development/Projects/Orion/node_modules/thread-loader/dist/cjs.js??ref--4-1!/Users/technologyteam/Development/Projects/Orion/node_modules/ts-loader/index.js??ref--4-2!/Users/technologyteam/Development/Projects/Orion/node_modules/source-map-loader/index.js!/Users/technologyteam/Development/Projects/Orion/src/app/components/Auth/Login/Login.tsx","dependencies":[{"path":"/Users/technologyteam/Development/Projects/Orion/src/app/components/Auth/Login/Login.tsx","mtime":1596083143764},{"path":"/Users/technologyteam/Development/Projects/Orion/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/technologyteam/Development/Projects/Orion/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/technologyteam/Development/Projects/Orion/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/technologyteam/Development/Projects/Orion/node_modules/source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX19tYWtlVGVtcGxhdGVPYmplY3QsIF9fcmVhZCB9IGZyb20gInRzbGliIjsKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAicmVhY3QiOwppbXBvcnQgeyB1c2VNdXRhdGlvbiB9IGZyb20gIkBhcG9sbG8vcmVhY3QtaG9va3MiOwppbXBvcnQgZ3FsIGZyb20gImdyYXBocWwtdGFnIjsKaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAiY2xhc3NuYW1lcyI7CmltcG9ydCB7IHNhdmVUb2tlbnMsIGdldFRva2VucyB9IGZyb20gIi4uL3V0aWxzIjsKaW1wb3J0IHN0eWxlcyBmcm9tICIuLi9BdXRoLm0uc2NzcyI7CmltcG9ydCB7IFJlZGlyZWN0LCB1c2VIaXN0b3J5IH0gZnJvbSAicmVhY3Qtcm91dGVyLWRvbSI7CmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoKSB7CiAgICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTsKICAgIHZhciBfYSA9IF9fcmVhZCh1c2VTdGF0ZSh7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgfSksIDIpLCBsb2dpbkRldGFpbHMgPSBfYVswXSwgc2V0TG9naW5EZXRhaWxzID0gX2FbMV07CiAgICB2YXIgX2IgPSBfX3JlYWQodXNlTXV0YXRpb24oZ3FsKHRlbXBsYXRlT2JqZWN0XzEgfHwgKHRlbXBsYXRlT2JqZWN0XzEgPSBfX21ha2VUZW1wbGF0ZU9iamVjdChbIlxuICAgICAgICBtdXRhdGlvbiBMb2dpbigkZW1haWw6IFN0cmluZyEpIHtcbiAgICAgICAgICBsb2dpbihlbWFpbDogJGVtYWlsKVxuICAgICAgICB9XG4gICAgIl0sIFsiXG4gICAgICAgIG11dGF0aW9uIExvZ2luKCRlbWFpbDogU3RyaW5nISkge1xuICAgICAgICAgIGxvZ2luKGVtYWlsOiAkZW1haWwpXG4gICAgICAgIH1cbiAgICAiXSkpKSksIDIpLCBsb2dpbiA9IF9iWzBdLCBkYXRhID0gX2JbMV0uZGF0YTsKICAgIGZ1bmN0aW9uIHN1Ym1pdExvZ2luKGUpIHsKICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBkYXRhOwogICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvZ2luKHsgdmFyaWFibGVzOiBsb2dpbkRldGFpbHMgfSldOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IChfYS5zZW50KCkpLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEubG9naW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVUb2tlbnMoZGF0YS5sb2dpbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2goIi9jbGllbnQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQogICAgcmV0dXJuIGdldFRva2VucygpID8gUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwgeyB0bzogJy9jbGllbnQnIH0pIDoKICAgICAgICAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMoc3R5bGVzLmZvcm1fcGFuZWwsIHN0eWxlcy5vbmUpIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiBzdHlsZXMuZm9ybV9oZWFkZXIgfSwKICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImgxIiwgbnVsbCwgIkFjY291bnQgTG9naW4iKSksCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsCiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJmb3JtIiwgeyBvblN1Ym1pdDogc3VibWl0TG9naW4gfSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogc3R5bGVzLmZvcm1fZ3JvdXAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGFiZWwiLCB7IGh0bWxGb3I6ICJ1c2VybmFtZSIgfSwgIlVzZXJuYW1lIiksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImlucHV0IiwgeyB0eXBlOiAidGV4dCIsIGlkOiAidXNlcm5hbWUiLCBuYW1lOiAidXNlcm5hbWUiLCByZXF1aXJlZDogdHJ1ZSB9KSksCiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6IHN0eWxlcy5mb3JtX2dyb3VwIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImxhYmVsIiwgeyBodG1sRm9yOiAicGFzc3dvcmQiIH0sICJQYXNzd29yZCIpLAogICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsgdHlwZTogInBhc3N3b3JkIiwgaWQ6ICJwYXNzd29yZCIsIG5hbWU6ICJwYXNzd29yZCIsIHJlcXVpcmVkOiB0cnVlIH0pKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogc3R5bGVzLmZvcm1fZ3JvdXAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgibGFiZWwiLCB7IGNsYXNzTmFtZTogc3R5bGVzLmZvcm1fcmVtZW1iZXIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImlucHV0IiwgeyB0eXBlOiAiY2hlY2tib3giIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlJlbWVtYmVyIE1lIiksCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7IGNsYXNzTmFtZTogc3R5bGVzLmZvcm1fcmVjb3ZlcnksIGhyZWY6ICIjIiB9LCAiRm9yZ290IFBhc3N3b3JkPyIpKSwKICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogc3R5bGVzLmZvcm1fZ3JvdXAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyB0eXBlOiAic3VibWl0IiB9LCAiTG9nIEluIikpKSkpKTsKfSk7CnZhciB0ZW1wbGF0ZU9iamVjdF8xOwo="},{"version":3,"file":"/Users/technologyteam/Development/Projects/Orion/src/app/components/Auth/Login/Login.tsx","sourceRoot":"","sources":["/Users/technologyteam/Development/Projects/Orion/node_modules/source-map-loader/index.js!/Users/technologyteam/Development/Projects/Orion/src/app/components/Auth/Login/Login.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAa,MAAM,OAAO,CAAC;AACnD,OAAO,EAAE,WAAW,EAAQ,MAAM,qBAAqB,CAAC;AACxD,OAAO,GAAG,MAAM,aAAa,CAAC;AAC9B,OAAO,UAAU,MAAM,YAAY,CAAC;AACpC,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC;AACjD,OAAO,MAAM,MAAM,gBAAgB,CAAC;AACpC,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAExD,gBAAe;IAEX,IAAM,OAAO,GAAG,UAAU,EAAE,CAAC;IAEvB,IAAA;;;UAGJ,EAHK,oBAAY,EAAE,uBAGnB,CAAC;IAEG,IAAA,mSAIJ,EAJK,aAAK,EAAI,iBAId,CAAC;IAEH,SAAe,WAAW,CAAC,CAAkB;;;;;;wBAEzC,CAAC,CAAC,cAAc,EAAE,CAAC;wBACF,qBAAM,KAAK,CAAC,EAAE,SAAS,EAAE,YAAY,EAAE,CAAC,EAAA;;wBAAjD,IAAI,GAAK,CAAA,SAAwC,CAAA,KAA7C;wBAEZ,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;4BACtB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACvB,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;yBACxB;;;;;KACJ;IACC,OAAO,SAAS,EAAE,CAAC,CAAC,CAAC,oBAAC,QAAQ,IAAC,EAAE,EAAC,SAAS,GAAG,CAAC,CAAC;QAC9C,CACI,6BAAK,SAAS,EAAE,UAAU,CAAC,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,GAAG,CAAC;YACrD,6BAAK,SAAS,EAAE,MAAM,CAAC,WAAW;gBAC9B,gDAAsB,CACpB;YACN;gBACI,8BAAM,QAAQ,EAAE,WAAW;oBACvB,6BAAK,SAAS,EAAE,MAAM,CAAC,UAAU;wBAC7B,+BAAO,OAAO,EAAC,UAAU,eAAiB;wBAC1C,+BAAO,IAAI,EAAC,MAAM,EAAC,EAAE,EAAC,UAAU,EAAC,IAAI,EAAC,UAAU,EAAC,QAAQ,EAAE,IAAI,GAAG,CAChE;oBACN,6BAAK,SAAS,EAAE,MAAM,CAAC,UAAU;wBAC7B,+BAAO,OAAO,EAAC,UAAU,eAAiB;wBAC1C,+BAAO,IAAI,EAAC,UAAU,EAAC,EAAE,EAAC,UAAU,EAAC,IAAI,EAAC,UAAU,EAAC,QAAQ,EAAE,IAAI,GAAG,CACpE;oBACN,6BAAK,SAAS,EAAE,MAAM,CAAC,UAAU;wBAC7B,+BAAO,SAAS,EAAE,MAAM,CAAC,aAAa;4BAClC,+BAAO,IAAI,EAAC,UAAU,GAAE;0CACpB;wBACR,2BAAG,SAAS,EAAE,MAAM,CAAC,aAAa,EAAE,IAAI,EAAC,GAAG,uBAAqB,CAC/D;oBACN,6BAAK,SAAS,EAAE,MAAM,CAAC,UAAU;wBAC7B,gCAAQ,IAAI,EAAC,QAAQ,aAAgB,CACnC,CACH,CACL,CACJ,CACT,CAAC;AACV,CAAC,EAAA","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useMutation, from } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nimport classNames from \"classnames\";\nimport { saveTokens, getTokens } from \"../utils\";\nimport styles from \"../Auth.m.scss\";\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nexport default () => {\n\n    const history = useHistory();\n\n    const [loginDetails, setLoginDetails] = useState({\n        email: \"\",\n        password: \"\"\n    });\n\n    const [login, { data }] = useMutation(gql`\n        mutation Login($email: String!) {\n          login(email: $email)\n        }\n    `);\n    \n    async function submitLogin(e: React.FormEvent) {\n          \n        e.preventDefault();\n        const { data } = await login({ variables: loginDetails });\n        \n        if (data && data.login) {\n          saveTokens(data.login);\n          history.push(\"/client\")\n        }\n    }\n      return getTokens() ? <Redirect to='/client' /> :\n        (\n            <div className={classNames(styles.form_panel, styles.one)}>\n                <div className={styles.form_header}>\n                    <h1>Account Login</h1>\n                </div>\n                <div>\n                    <form onSubmit={submitLogin}>\n                        <div className={styles.form_group}>\n                            <label htmlFor=\"username\">Username</label>\n                            <input type=\"text\" id=\"username\" name=\"username\" required={true}/>\n                        </div>\n                        <div className={styles.form_group}>\n                            <label htmlFor=\"password\">Password</label>\n                            <input type=\"password\" id=\"password\" name=\"password\" required={true}/>\n                        </div>\n                        <div className={styles.form_group}>\n                            <label className={styles.form_remember}>\n                                <input type=\"checkbox\"/>Remember Me\n                            </label>\n                            <a className={styles.form_recovery} href=\"#\">Forgot Password?</a>\n                        </div>\n                        <div className={styles.form_group}>\n                            <button type=\"submit\">Log In</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        );\n}"]}]}